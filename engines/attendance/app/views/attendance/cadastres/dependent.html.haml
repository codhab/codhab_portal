.row
  .col-md-12
    .panel.panel-default
      .panel-body
        .row
          .col-md-12
            %h4
              %b
                Meus Dependentes
        .row
          .col-md-12
            - if @spouse.present?
              %table.table.table-striped.table-bordered
                %thead
                  %tr
                    %th{colspan: 4} Cônjuge
                %thead
                  %tr
                    %th Nome
                    %th CPF
                    %th RG
                    %th Sexo
                %tbody
                  %tr
                    %td= @spouse.name
                    %td= @spouse.cpf.present? ? @spouse.cpf : "Sem informação"
                    %td= @spouse.rg.present? ? "#{@spouse.rg} - #{@spouse.rg_org}/#{@spouse.rg_uf_id}" : "Sem informação"
                    %td= @spouse.gender.present? ? @spouse.gender : "Sem informação"
                %thead
                  %tr
                    %th Data de Nascimento
                    %th Renda
                    %th Condição Especial
                    %th CID
                %tbody
                  %tr
                    %td= @spouse.born.present? ? @spouse.born.strftime('%d/%m/%Y') : "Sem informação"
                    %td= @spouse.income.present? ? @spouse.income : "Sem informação"
                    %td= @spouse.special_condition.present? ? @spouse.special_condition.name : "Sem informação"
                    %td= @spouse.cid.present? ? @spouse.cid : "Sem informação"
            - if @dependents.present?
              - @dependents.each do |dependent|
                %table.table.table-striped.table-bordered
                  %thead
                    %tr
                      %th{colspan: 4}= dependent.kinship.name rescue "Sem informação"
                  %thead
                    %tr
                      %th Nome
                      %th CPF
                      %th RG
                      %th Sexo
                  %tbody
                    %tr
                      %td= dependent.name
                      %td= dependent.cpf.present? ? dependent.cpf : "Sem informação"
                      %td= dependent.rg.present? ? "#{dependent.rg} - #{dependent.rg_org}/#{dependent.rg_uf_id}" : "Sem informação"
                      %td= dependent.gender.present? ? dependent.gender : "Sem informação"
                  %thead
                    %tr
                      %th Data de Nascimento
                      %th Renda
                      %th Condição Especial
                      %th CID
                  %tbody
                    %tr
                      %td= dependent.born.present? ? dependent.born.strftime('%d/%m/%Y') : "Sem informação"
                      %td= dependent.income.present? ? dependent.income : "Sem informação"
                      %td= dependent.special_condition.present? ? dependent.special_condition.name : "Sem informação"
                      %td= dependent.cid.present? ? dependent.cid : "Sem informação"
